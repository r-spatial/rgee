<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup_and_Details • rgee</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Setup_and_Details">
<meta property="og:description" content="rgee">
<meta property="og:image" content="http://r-spatial.github.io/rgee/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/considerations.html">Consideration</a>
    </li>
    <li>
      <a href="http://csaybar.github.io/rgee-examples/">rgee examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/r-spatial/rgee/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Setup_and_Details</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-spatial/rgee/blob/master/vignettes/setup.Rmd"><code>vignettes/setup.Rmd</code></a></small>
      <div class="hidden name"><code>setup.Rmd</code></div>

    </div>

    
    
<p><code>rgee</code> has two types of dependencies: <strong>the strict ones and the related with I/O</strong> . The <span style="color:#b52b09"><strong>strict dependencies</strong></span> must be satisfied before the <code>rgee</code> installation. If this is not fulfilled <strong>rgee just will not work</strong>. The dependencies that comprised this group are:</p>
<ul>
<li><span style="color:#b52b09"><b> Google account with Earth Engine activated </b></span></li>
<li><span style="color:#b52b09"><b> Python &gt;= v3.5 </b></span></li>
<li><span style="color:#b52b09"><b> EarthEngine Python API (Python package) </b></span></li>
</ul>
<p>The activation of <strong>Earth Engine accounts</strong> depends on each user, check the oficial website of <a href="https://earthengine.google.com/">Google Earth Engine</a> for more details. If you do not count with a <strong>Python environment</strong> in your system, run <code><a href="../reference/ee_Initialize.html">ee_Initialize()</a></code> to display an interactive menu to install <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> (a free minimal installer for conda). We highly recommend use an virtual environment to use <code>rgee</code>, you can create one using <code>ee_install_create_pyenv</code>. Finally, the <code><a href="../reference/ee_install_python_packages.html">ee_install_python_packages()</a></code> function is provided as a convenient way to install all Python packages needed in <code>rgee</code>, even though it is not mandatory. You can count on with your own custom installation. This would be also allowed. All the step described before are summarised below:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rgee</span>)
<span class="co"># Recommended way to install external rgee dependencies </span>

<span class="co"># 1. Initialize rgee with ee_Initialize(). If there is no any</span>
<span class="co">#    Python environment, miniconda will be installed by default.</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>()

<span class="co"># 2. Create a Python environment, e.g. ee.</span>
<span class="no">pyenv</span> <span class="kw">&lt;-</span> <span class="fu">ee_install_create_pyenv</span>(<span class="kw">python_env</span> <span class="kw">=</span> <span class="st">"ee"</span>)

<span class="co"># Find others Python environments in the system.</span>
<span class="co"># ee_install_discover_pyenvs()</span>

<span class="co"># 3. Set a Python environment (e.g. ee) and restart R to see changes.</span>
<span class="fu"><a href="../reference/ee_install_set_pyenv.html">ee_install_set_pyenv</a></span>(<span class="no">pyenv</span>, <span class="kw">install</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="co"># 4. Install Python package dependencies and restart R to see changes.</span>
<span class="fu"><a href="../reference/ee_install_python_packages.html">ee_install_python_packages</a></span>()

<span class="co"># 5. Initialize rgee again!</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>()</pre></body></html></div>
<p>By the other hand, the <span style="color:#857e04"><b>I/O dependencies</b></span> unlock <code>rgee</code> import &amp; export functions. This dependencies are not mandatory. However, many of the rgee I/O functionality depend on it. The dependencies that comprised this group are shown below:</p>
<ul>
<li><span style="color:#857e04"><strong>Google Cloud Storage credentials</strong></span></li>
<li><span style="color:#857e04"><strong>Google Drive credentials</strong></span></li>
</ul>
<div id="import-and-export-spatial-data-using-rgee" class="section level3">
<h3 class="hasAnchor">
<a href="#import-and-export-spatial-data-using-rgee" class="anchor"></a>Import and Export Spatial Data using rgee</h3>
<p>The batch import/export involves difficulties for most GEE users. In <code>rgee</code>, we are aware of it and we created several functions to help users to download and upload spatial data. If you are trying to <strong>download</strong> data from Earth Engine you will have three options:</p>
<ul>
<li>
<strong>ee_as_sf</strong>: Useful to download ee$Geometry, ee$Feature and ee$FeatureCollection.</li>
<li>
<strong>ee_as_stars</strong> or <strong>ee_as_raster</strong>: Convert ee$Image to stars and raster object.</li>
<li>
<strong>ee_as_thumbnail</strong>: Create a raster or stars object based on a thumbnail image.</li>
</ul>
<p>These functions through the argument <strong><code>via</code></strong> will permit you to <strong>change the download method</strong>. There are three methods to download an EE object: The first one (<code>getInfo</code>) fetch and return spatial objects directly, the <code>drive</code> method use Google Drive (GD) as an intermediate container, and finally <code>gcs</code> which use Google Cloud Storage (GCS). <code>rgee</code> to deal with <strong>GD</strong> and <strong>GCS</strong> use the R package <a href="https://googledrive.tidyverse.org/">googledrive</a> and <a href="http://code.markedmondson.me/googleCloudStorageR/">googleCloudStorageR</a> respectively, so you will need to install it before.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># please try as follow</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'googledrive'</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'googleCloudStorageR'</span>)</pre></body></html></div>
<p><strong>GD</strong> is more friendly to novice Earth Engine users because the authentication process could be done without leaving R. However, if you are trying to move large amounts of data, is preferable use <strong>GCS</strong> instead. For using GCS, you will need to have your own Google Project with a credit card added to the GCS service, charges will apply. See the <a href="https://github.com/csaybar/GCS_AUTH_FILE.json">GCS_AUTH_FILE</a> tutorial to create your own service account key. If you want to understand why this is necessary, please have a look <a href="http://code.markedmondson.me/googleCloudStorageR/articles/googleCloudStorageR.html">Mark Edmondson</a> tutorial.</p>
<p>Batch <strong>upload</strong> is a harder process, in <code>rgee</code> we try to make it simple. If you want to upload files in a batch way, firstly you must <strong>get authorization to read &amp; write into a Google Cloud Storage (GCS) bucket</strong>. <code>rgee</code> implement three functions:</p>
<ul>
<li>
<strong>sf_as_ee</strong>: Convert a sfg, sfc or sf object to an ee$FeatureCollection.</li>
<li>
<strong>stars_as_ee</strong>: Convert an stars object to an ee$Image.</li>
<li>
<strong>raster_as_ee</strong>: Convert an raster object to an ee$Image.</li>
</ul>
</div>
<div id="authentication" class="section level3">
<h3 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h3>
<p><code>rgee</code> deal with three different Google API’s:</p>
<ul>
<li>Google Earth Engine</li>
<li>Google Drive</li>
<li>Google Cloud Storage</li>
</ul>
<p>To authenticate either Google Drive or Google Cloud Storage, you just need to run as follow:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rgee</span>)
<span class="co">#ee_reattach() # reattach ee as a reserve word</span>

<span class="co"># Initialize just Earth Engine</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>()
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>(<span class="kw">email</span> <span class="kw">=</span> <span class="st">'csaybar@gmail.com'</span>) <span class="co"># Use the argument email is not mandatory</span>

<span class="co"># Initialize Earth Engine and GD</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>(<span class="kw">email</span> <span class="kw">=</span> <span class="st">'csaybar@gmail.com'</span>, <span class="kw">drive</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="co"># Initialize Earth Engine and GCS</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>(<span class="kw">email</span> <span class="kw">=</span> <span class="st">'csaybar@gmail.com'</span>, <span class="kw">gcs</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="co"># Initialize Earth Engine, GD and GCS</span>
<span class="fu"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>(<span class="kw">email</span> <span class="kw">=</span> <span class="st">'csaybar@gmail.com'</span>, <span class="kw">drive</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">gcs</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p>If the Google account is verified and the permission is granted, you will be directed to an authentication token. Copy this token and paste it in the emerging GUI. Unlike Earth Engine and GD, GCS need to set up its credential manually (<a href="http://code.markedmondson.me/googleCloudStorageR/articles/googleCloudStorageR.html">link1</a> and <a href="https://github.com/csaybar/GCS_AUTH_FILE.json">link2</a>). In all cases, the credentials always will be stored in:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/ee_get_earthengine_path.html">ee_get_earthengine_path</a></span>()</pre></body></html></div>
<p>Remember you only have to authorize once, for next sessions it will not be necessary.</p>
</div>
<div id="checking" class="section level3">
<h3 class="hasAnchor">
<a href="#checking" class="anchor"></a>Checking</h3>
<p>The <code><a href="../reference/ee_check-tools.html">ee_check()</a></code> function will help you for checking the sanity of your <code>rgee</code> installation and dependencies.</p>
<ul>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_python()</a></code> - Python version</li>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_credentials()</a></code> - Google Drive and GCS credentials</li>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_rgee_python_packages()</a></code> - Python packages</li>
</ul>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">rgee</span>)
<span class="fu"><a href="../reference/ee_check-tools.html">ee_check</a></span>()</pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
