<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>R6 class to display Earth Engine (EE) spatial objects — R6Map • rgee</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="R6 class to display Earth Engine (EE) spatial objects — R6Map"><meta property="og:description" content="Create interactive visualizations of spatial EE objects
(ee$Geometry, ee$Image, ee$Feature, and ee$FeatureCollection)
using leaflet."><meta property="og:image" content="https://r-spatial.github.io/rgee/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>

  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>

    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/rgee01.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/rgee02.html">Consideration</a>
    </li>
    <li>
      <a href="../articles/rgee03.html">Best Practices</a>
    </li>
    <li>
      <a href="../articles/rgee04.html">Shiny apps deployment</a>
    </li>
    <li>
      <a href="../articles/rgee05.html">rgee and GCS sync</a>
    </li>
    <li>
      <a href="../articles/rgee06.html">Integrate Rmarkdown and rgee</a>
    </li>
    <li>
      <a href="https://r-earthengine.github.io/" class="external-link">rgee examples</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>

    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>

    functions
  </a>
</li>
<li>
  <a href="https://github.com/r-spatial/rgee/" class="external-link">
    <span class="fa fa-github fa-lg"></span>

    github
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>R6 class to display Earth Engine (EE) spatial objects</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-spatial/rgee/blob/master/R/R6Map.R" class="external-link"><code>R/R6Map.R</code></a></small>
    <div class="hidden name"><code>R6Map.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create interactive visualizations of spatial EE objects
(ee$Geometry, ee$Image, ee$Feature, and ee$FeatureCollection)
using <code>leaflet</code>.</p>
    </div>


    <div id="value">
    <h2>Value</h2>
    <p>Object of class <code>leaflet</code> and <code>EarthEngineMap</code>, with the
following extra parameters: tokens, name, opacity, shown, min, max, palette,
position, and legend. Use the $ method to retrieve the data (e.g., m$rgee$min).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>R6Map</code> uses the Earth Engine method
<a href="https://developers.google.com/earth-engine/api_docs#ee.data.getmapid/" class="external-link">
getMapId</a> to fetch and return an ID dictionary used to create
layers in a <code>leaflet</code> object. Users can specify visualization
parameters to Map$addLayer by using the visParams argument. Each Earth
Engine spatial object has a specific format. For
<code>ee$Image</code>, the
<a href="https://developers.google.com/earth-engine/guides/image_visualization" class="external-link">
parameters</a> available are:</p>
<table class="table table"><tr><td><strong>Parameter</strong></td><td><strong>Description</strong></td><td><strong>Type</strong></td></tr><tr><td><strong>bands</strong></td><td>Comma-delimited list of three band (RGB)</td><td>list</td></tr><tr><td><strong>min</strong></td><td>Value(s) to map to 0</td><td>number or list of three
numbers, one for each band</td></tr><tr><td><strong>max</strong></td><td>Value(s) to map to 1</td><td>number or list of three
numbers, one for each band</td></tr><tr><td><strong>gain</strong></td><td>Value(s) by which to multiply each pixel value</td><td>number or list of three numbers, one for each band</td></tr><tr><td><strong>bias</strong></td><td>Value(s) to add to each Digital Number
value</td><td>number or list of three numbers, one for each band</td></tr><tr><td><strong>gamma</strong></td><td>Gamma correction factor(s)</td><td>number or list of
three numbers, one for each band</td></tr><tr><td><strong>palette</strong></td><td>List of CSS-style color strings
(single-band only)</td><td>comma-separated list of hex strings</td></tr><tr><td><strong>opacity</strong></td><td>The opacity of the layer (from 0 to 1)</td><td>number</td></tr></table><p>If you add an <code>ee$Image</code> to Map$addLayer without any additional
parameters. By default it assigns the first three bands to red,
green, and blue bands, respectively. The default stretch is based on the
min-max range. On the other hand, the available parameters for
<code>ee$Geometry</code>, <code>ee$Feature</code>, and <code>ee$FeatureCollection</code>
are:</p>
<ul><li><p><strong>color</strong>: A hex string in the format RRGGBB specifying the
color to use for drawing the features. By default #000000.</p></li>
<li><p><strong>pointRadius</strong>: The radius of the point markers. By default 3.</p></li>
<li><p><strong>strokeWidth</strong>: The width of lines and polygon borders. By
default 3.</p></li>
</ul></div>
    <div id="public-fields">
    <h2>Public fields</h2>
    <p></p><div class="r6-fields"><dl><dt><code>lon</code></dt>
<dd><p>The longitude of the center, in degrees.</p></dd>


<dt><code>lat</code></dt>
<dd><p>The latitude of the center, in degrees.</p></dd>


<dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24.</p></dd>


<dt><code>save_maps</code></dt>
<dd><p>Should <code>R6Map</code> save the previous maps?. If TRUE, Map
will work in an OOP style. Otherwise it will be a functional programming
style.</p></dd>


<dt><code>previous_map_left</code></dt>
<dd><p>Container on maps in the left side.</p></dd>


<dt><code>previous_map_right</code></dt>
<dd><p>Container on maps in the right side.</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-EarthEngineMap-new"><code>R6Map$new()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-reset"><code>R6Map$reset()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-print"><code>R6Map$print()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-setCenter"><code>R6Map$setCenter()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-setZoom"><code>R6Map$setZoom()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-centerObject"><code>R6Map$centerObject()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-addLayer"><code>R6Map$addLayer()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-addLayers"><code>R6Map$addLayers()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-addLegend"><code>R6Map$addLegend()</code></a></p></li>
<li><p><a href="#method-EarthEngineMap-clone"><code>R6Map$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-EarthEngineMap-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Constructor of R6Map.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/R6Map.html">R6Map</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>lon <span class="op">=</span> <span class="fl">0</span>, lat <span class="op">=</span> <span class="fl">0</span>, zoom <span class="op">=</span> <span class="fl">1</span>, save_maps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lon</code></dt>
<dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>


<dt><code>lat</code></dt>
<dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>


<dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>


<dt><code>save_maps</code></dt>
<dd><p>Should <code>R6Map</code> save previous maps?.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new <code>EarthEngineMap</code> object.</p>
</div>

</div><p></p><hr><a id="method-EarthEngineMap-reset"></a><div class="section">
<h3 id="method-reset-">Method <code>reset()</code><a class="anchor" aria-label="anchor" href="#method-reset-"></a></h3>
<p>Reset to initial arguments.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span>lon <span class="op">=</span> <span class="fl">0</span>, lat <span class="op">=</span> <span class="fl">0</span>, zoom <span class="op">=</span> <span class="fl">1</span>, save_maps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lon</code></dt>
<dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>


<dt><code>lat</code></dt>
<dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>


<dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>


<dt><code>save_maps</code></dt>
<dd><p>Should <code>R6Map</code> save previous maps?.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A new <code>EarthEngineMap</code> object.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)
Map # display map

Map$reset() # Reset arguments
Map
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="print.ee.computedobject.ComputedObject.html">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>
<p>Display a <code>EarthEngineMap</code> object.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>An <code>EarthEngineMap</code> object.</p>
</div>

</div><p></p><hr><a id="method-EarthEngineMap-setCenter"></a><div class="section">
<h3 id="method-setcenter-">Method <code>setCenter()</code><a class="anchor" aria-label="anchor" href="#method-setcenter-"></a></h3>
<p>Centers the map view at the given coordinates with the given zoom level. If
no zoom level is provided, it uses 10 by default.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">setCenter</span><span class="op">(</span>lon <span class="op">=</span> <span class="fl">0</span>, lat <span class="op">=</span> <span class="fl">0</span>, zoom <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lon</code></dt>
<dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>


<dt><code>lat</code></dt>
<dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>


<dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>No return value, called to set initial coordinates and zoom.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setCenter(lon = -76, lat = 0, zoom = 5)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-setZoom"></a><div class="section">
<h3 id="method-setzoom-">Method <code>setZoom()</code><a class="anchor" aria-label="anchor" href="#method-setzoom-"></a></h3>
<p>Sets the zoom level of the map.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">setZoom</span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24. By default 10.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>No return value, called to set zoom.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setZoom(zoom = 4)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-centerObject"></a><div class="section">
<h3 id="method-centerobject-">Method <code>centerObject()</code><a class="anchor" aria-label="anchor" href="#method-centerobject-"></a></h3>
<p>Centers the map view on a given object. If no zoom level is provided, it
will be predicted according to the bounds of the Earth Engine object
specified.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span></span>
<span>  <span class="va">eeObject</span>,</span>
<span>  zoom <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxError <span class="op">=</span> <span class="va">ee</span><span class="op">$</span><span class="fu">ErrorMargin</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  titiler_server <span class="op">=</span> <span class="st">"https://api.cogeo.xyz/"</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>eeObject</code></dt>
<dd><p>Earth Engine spatial object.</p></dd>


<dt><code>zoom</code></dt>
<dd><p>The zoom level, from 1 to 24. By default NULL.</p></dd>


<dt><code>maxError</code></dt>
<dd><p>Max error when input image must be reprojected to an
explicitly requested result projection or geodesic state.</p></dd>


<dt><code>titiler_server</code></dt>
<dd><p>TiTiler endpoint. Defaults to "https://api.cogeo.xyz/".</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>No return value, called to set zoom.</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")
Map$centerObject(image)
Map
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-addLayer"></a><div class="section">
<h3 id="method-addlayer-">Method <code>addLayer()</code><a class="anchor" aria-label="anchor" href="#method-addlayer-"></a></h3>
<p>Adds a given Earth Engine spatial object to the map as a layer</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span>
<span>  <span class="va">eeObject</span>,</span>
<span>  visParams <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shown <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  opacity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  position <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  titiler_viz_convert <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  titiler_server <span class="op">=</span> <span class="st">"https://api.cogeo.xyz/"</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>eeObject</code></dt>
<dd><p>The Earth Engine spatial object to display in the interactive map.</p></dd>


<dt><code>visParams</code></dt>
<dd><p>List of parameters for visualization. See details.</p></dd>


<dt><code>name</code></dt>
<dd><p>The name of layers.</p></dd>


<dt><code>shown</code></dt>
<dd><p>A flag indicating whether layers should be on by default.</p></dd>


<dt><code>opacity</code></dt>
<dd><p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p></dd>


<dt><code>position</code></dt>
<dd><p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p></dd>


<dt><code>titiler_viz_convert</code></dt>
<dd><p>Logical. If it is TRUE, Map$addLayer will transform the
visParams to titiler style. Ignored if eeObject is not a COG file.</p></dd>


<dt><code>titiler_server</code></dt>
<dd><p>TiTiler endpoint. Defaults to "https://api.cogeo.xyz/".</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>An <code>EarthEngineMap</code> object.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 20000, bands = c("B4", "B3", "B2")),
  name = "l8_02"
)

# Simple display: Map just will (if the position is not specified it will
# be saved on the right side)
Map$reset() # Reset Map to the initial arguments.
Map$centerObject(image)
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=10000, bands = c("B4", "B3", "B2")),
  name = "l8_left",
  position = "left"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=20000, bands = c("B4", "B3", "B2")),
  name = "l8_right"
)

Map$reset()
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-addLayers"></a><div class="section">
<h3 id="method-addlayers-">Method <code>addLayers()</code><a class="anchor" aria-label="anchor" href="#method-addlayers-"></a></h3>
<p>Adds a given ee$ImageCollection to the map as multiple layers.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">addLayers</span><span class="op">(</span></span>
<span>  <span class="va">eeObject</span>,</span>
<span>  visParams <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nmax <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shown <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  position <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  opacity <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>eeObject</code></dt>
<dd><p>ee$ImageCollection to display in the interactive map.</p></dd>


<dt><code>visParams</code></dt>
<dd><p>List of parameters for visualization. See details.</p></dd>


<dt><code>nmax</code></dt>
<dd><p>Numeric. The maximum number of images to display. By default 5.</p></dd>


<dt><code>name</code></dt>
<dd><p>The name of layers.</p></dd>


<dt><code>shown</code></dt>
<dd><p>A flag indicating whether layers should be on by default.</p></dd>


<dt><code>position</code></dt>
<dd><p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p></dd>


<dt><code>opacity</code></dt>
<dd><p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>A <code>EarthEngineMap</code> object.</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(sf)
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()

nc &lt;- st_read(system.file("shape/nc.shp", package = "sf")) %&gt;%
  st_transform(4326) %&gt;%
  sf_as_ee()

ee_s2 &lt;- ee$ImageCollection("COPERNICUS/S2")$
  filterDate("2016-01-01", "2016-01-31")$
  filterBounds(nc)
ee_s2 &lt;- ee$ImageCollection(ee_s2$toList(2))

Map$centerObject(nc$geometry())
Map$addLayers(eeObject = ee_s2,position = "right")

# digging up the metadata
Map$previous_map_right$rgee$tokens

Map$reset()
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-addLegend"></a><div class="section">
<h3 id="method-addlegend-">Method <code><a href="https://rstudio.github.io/leaflet/reference/addLegend.html" class="external-link">addLegend()</a></code><a class="anchor" aria-label="anchor" href="#method-addlegend-"></a></h3>
<p>Adds a color legend to an EarthEngineMap.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">addLegend</span><span class="op">(</span></span>
<span>  <span class="va">visParams</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"Legend"</span>,</span>
<span>  position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bottomright"</span>, <span class="st">"topright"</span>, <span class="st">"bottomleft"</span>, <span class="st">"topleft"</span><span class="op">)</span>,</span>
<span>  color_mapping <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>  opacity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>visParams</code></dt>
<dd><p>List of parameters for visualization.</p></dd>


<dt><code>name</code></dt>
<dd><p>The title of the legend.</p></dd>


<dt><code>position</code></dt>
<dd><p>Character. The position of the legend. By default bottomright.</p></dd>


<dt><code>color_mapping</code></dt>
<dd><p>Map data values (numeric or factor/character) to
colors according to a given palette. Use "numeric" ("discrete") for continuous
(categorical) data. For display characters use "character" and add to visParams
the element "values" containing the desired character names.</p></dd>


<dt><code>opacity</code></dt>
<dd><p>The legend's opacity is represented as a number between 0
and 1. Defaults to 1.</p></dd>


<dt><code>...</code></dt>
<dd><p>Extra legend creator arguments. See <a href="https://rstudio.github.io/leaflet/reference/addLegend.html" class="external-link">addLegend</a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>A <code>EarthEngineMap</code> object.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
library(leaflet)
library(rgee)
ee_Initialize()

Map$reset()

# Load MODIS ImageCollection
imgcol &lt;- ee$ImageCollection$Dataset$MODIS_006_MOD13Q1

# Parameters for visualization
labels &lt;- c("good", "marginal", "snow", "cloud")
cols   &lt;- c("#999999", "#00BFC4", "#F8766D", "#C77CFF")
vis_qc &lt;- list(min = 0, max = 3, palette = cols, bands = "SummaryQA", values = labels)

# Create interactive map
m_qc &lt;- Map$addLayer(imgcol$median(), vis_qc, "QC")

# continous palette
Map$addLegend(vis_qc)

# categorical palette
Map$addLegend(vis_qc, name = "Legend1", color_mapping = "discrete")

# character palette
Map$addLegend(vis_qc, name = "Legend2", color_mapping = "character")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-EarthEngineMap-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">R6Map</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$reset`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load an Image</span></span></span>
<span class="r-in"><span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="fu">Image</span><span class="op">(</span><span class="st">"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create</span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple display: Map just will</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  eeObject <span class="op">=</span> <span class="va">image</span>,</span></span>
<span class="r-in"><span>  visParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min<span class="op">=</span><span class="fl">0</span>, max <span class="op">=</span> <span class="fl">10000</span>, bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B4"</span>, <span class="st">"B3"</span>, <span class="st">"B2"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"l8_01"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="co"># display map</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span> <span class="co"># Reset arguments</span></span></span>
<span class="r-in"><span><span class="va">Map</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$setCenter`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">setCenter</span><span class="op">(</span>lon <span class="op">=</span> <span class="op">-</span><span class="fl">76</span>, lat <span class="op">=</span> <span class="fl">0</span>, zoom <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Map$lat</span></span></span>
<span class="r-in"><span><span class="co"># Map$lon</span></span></span>
<span class="r-in"><span><span class="co"># Map$zoom</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$setZoom`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">setZoom</span><span class="op">(</span>zoom <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Map$lat</span></span></span>
<span class="r-in"><span><span class="co"># Map$lon</span></span></span>
<span class="r-in"><span><span class="co"># Map$zoom</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$centerObject`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="fu">Image</span><span class="op">(</span><span class="st">"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$addLayer`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load an Image</span></span></span>
<span class="r-in"><span><span class="va">image</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="fu">Image</span><span class="op">(</span><span class="st">"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create</span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple display: Map just will</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  eeObject <span class="op">=</span> <span class="va">image</span>,</span></span>
<span class="r-in"><span>  visParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min<span class="op">=</span><span class="fl">0</span>, max <span class="op">=</span> <span class="fl">10000</span>, bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B4"</span>, <span class="st">"B3"</span>, <span class="st">"B2"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"l8_01"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  eeObject <span class="op">=</span> <span class="va">image</span>,</span></span>
<span class="r-in"><span>  visParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min<span class="op">=</span><span class="fl">0</span>, max <span class="op">=</span> <span class="fl">20000</span>, bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B4"</span>, <span class="st">"B3"</span>, <span class="st">"B2"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"l8_02"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple display: Map just will (if the position is not specified it will</span></span></span>
<span class="r-in"><span><span class="co"># be saved on the right side)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span> <span class="co"># Reset Map to the initial arguments.</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span><span class="va">image</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  eeObject <span class="op">=</span> <span class="va">image</span>,</span></span>
<span class="r-in"><span>  visParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min<span class="op">=</span><span class="fl">0</span>, max<span class="op">=</span><span class="fl">10000</span>, bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B4"</span>, <span class="st">"B3"</span>, <span class="st">"B2"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"l8_left"</span>,</span></span>
<span class="r-in"><span>  position <span class="op">=</span> <span class="st">"left"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span></span></span>
<span class="r-in"><span>  eeObject <span class="op">=</span> <span class="va">image</span>,</span></span>
<span class="r-in"><span>  visParams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min<span class="op">=</span><span class="fl">0</span>, max<span class="op">=</span><span class="fl">20000</span>, bands <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B4"</span>, <span class="st">"B3"</span>, <span class="st">"B2"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"l8_right"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$addLayers`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span> <span class="op">&lt;-</span> <span class="va">R6Map</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html" class="external-link">st_transform</a></span><span class="op">(</span><span class="fl">4326</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="sf_as_ee.html">sf_as_ee</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ee_s2</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="fu">ImageCollection</span><span class="op">(</span><span class="st">"COPERNICUS/S2"</span><span class="op">)</span><span class="op">$</span></span></span>
<span class="r-in"><span>  <span class="fu">filterDate</span><span class="op">(</span><span class="st">"2016-01-01"</span>, <span class="st">"2016-01-31"</span><span class="op">)</span><span class="op">$</span></span></span>
<span class="r-in"><span>  <span class="fu">filterBounds</span><span class="op">(</span><span class="va">nc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ee_s2</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="fu">ImageCollection</span><span class="op">(</span><span class="va">ee_s2</span><span class="op">$</span><span class="fu">toList</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">centerObject</span><span class="op">(</span><span class="va">nc</span><span class="op">$</span><span class="fu">geometry</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLayers</span><span class="op">(</span>eeObject <span class="op">=</span> <span class="va">ee_s2</span>,position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># digging up the metadata</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="va">previous_map_right</span><span class="op">$</span><span class="va">rgee</span><span class="op">$</span><span class="va">tokens</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `R6Map$addLegend`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/rgee/" class="external-link">rgee</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ee_Initialize.html">ee_Initialize</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">reset</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load MODIS ImageCollection</span></span></span>
<span class="r-in"><span><span class="va">imgcol</span> <span class="op">&lt;-</span> <span class="va">ee</span><span class="op">$</span><span class="va">ImageCollection</span><span class="op">$</span><span class="va">Dataset</span><span class="op">$</span><span class="va">MODIS_006_MOD13Q1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Parameters for visualization</span></span></span>
<span class="r-in"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"good"</span>, <span class="st">"marginal"</span>, <span class="st">"snow"</span>, <span class="st">"cloud"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cols</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#999999"</span>, <span class="st">"#00BFC4"</span>, <span class="st">"#F8766D"</span>, <span class="st">"#C77CFF"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vis_qc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">3</span>, palette <span class="op">=</span> <span class="va">cols</span>, bands <span class="op">=</span> <span class="st">"SummaryQA"</span>, values <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create interactive map</span></span></span>
<span class="r-in"><span><span class="va">m_qc</span> <span class="op">&lt;-</span> <span class="va">Map</span><span class="op">$</span><span class="fu">addLayer</span><span class="op">(</span><span class="va">imgcol</span><span class="op">$</span><span class="fu">median</span><span class="op">(</span><span class="op">)</span>, <span class="va">vis_qc</span>, <span class="st">"QC"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># continous palette</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLegend</span><span class="op">(</span><span class="va">vis_qc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># categorical palette</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLegend</span><span class="op">(</span><span class="va">vis_qc</span>, name <span class="op">=</span> <span class="st">"Legend1"</span>, color_mapping <span class="op">=</span> <span class="st">"discrete"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># character palette</span></span></span>
<span class="r-in"><span><span class="va">Map</span><span class="op">$</span><span class="fu">addLegend</span><span class="op">(</span><span class="va">vis_qc</span>, name <span class="op">=</span> <span class="st">"Legend2"</span>, color_mapping <span class="op">=</span> <span class="st">"character"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

