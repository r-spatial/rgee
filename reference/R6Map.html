<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>R6 class to display Earth Engine (EE) spatial objects — R6Map • rgee</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="R6 class to display Earth Engine (EE) spatial objects — R6Map" />
<meta property="og:description" content="Create interactive visualizations of spatial EE objects
(ee$Geometry, ee$Image, ee$Feature, and ee$FeatureCollection)
using leaflet." />
<meta property="og:image" content="https://r-spatial.github.io/rgee/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.9.999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rgee01.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/rgee02.html">Consideration</a>
    </li>
    <li>
      <a href="../articles/rgee03.html">Best Practices</a>
    </li>
    <li>
      <a href="https://r-earthengine.github.io/">rgee examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/r-spatial/rgee/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>R6 class to display Earth Engine (EE) spatial objects</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-spatial/rgee/blob/master/R/R6Map.R'><code>R/R6Map.R</code></a></small>
    <div class="hidden name"><code>R6Map.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create interactive visualizations of spatial EE objects
(ee$Geometry, ee$Image, ee$Feature, and ee$FeatureCollection)
using <code>leaflet</code>.</p>
    </div>



    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Object of class <code>leaflet</code> and <code>EarthEngineMap</code>, with the
following extra parameters: tokens, name, opacity, shown, min, max, palette,
position, and legend. Use the $ method to retrieve the data (e.g., m$rgee$min).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>R6Map</code> uses the Earth Engine method
<a href='https://developers.google.com/earth-engine/api_docs#ee.data.getmapid/'>
getMapId</a> to fetch and return an ID dictionary used to create
layers in a <code>leaflet</code> object. Users can specify visualization
parameters to Map$addLayer by using the visParams argument. Each Earth
Engine spatial object has a specific format. For
<code>ee$Image</code>, the
<a href='https://developers.google.com/earth-engine/guides/image_visualization'>
parameters</a> available are:</p>
<table class='table'>
<tr><td><strong>Parameter</strong></td><td><strong>Description</strong></td><td><strong>Type</strong></td></tr>
<tr><td><strong>bands</strong></td><td>Comma-delimited list of three band (RGB)</td><td>list</td></tr>
<tr><td><strong>min</strong></td><td>Value(s) to map to 0</td><td>number or list of three
numbers, one for each band</td></tr>
<tr><td><strong>max</strong></td><td>Value(s) to map to 1</td><td>number or list of three
numbers, one for each band</td></tr>
<tr><td><strong>gain</strong></td><td>Value(s) by which to multiply each pixel value</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>bias</strong></td><td>Value(s) to add to each Digital Number
value</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>gamma</strong></td><td>Gamma correction factor(s)</td><td>number or list of
three numbers, one for each band</td></tr>
<tr><td><strong>palette</strong></td><td>List of CSS-style color strings
(single-band only)</td><td>comma-separated list of hex strings</td></tr>
<tr><td><strong>opacity</strong></td><td>The opacity of the layer (from 0 to 1)</td><td>number</td></tr>
</table>


<p>If you add an <code>ee$Image</code> to Map$addLayer without any additional
parameters. By default it assigns the first three bands to red,
green, and blue bands, respectively. The default stretch is based on the
min-max range. On the other hand, the available parameters for
<code>ee$Geometry</code>, <code>ee$Feature</code>, and <code>ee$FeatureCollection</code>
are:</p>
<ul>
<li><p><strong>color</strong>: A hex string in the format RRGGBB specifying the
color to use for drawing the features. By default #000000.</p></li>
<li><p><strong>pointRadius</strong>: The radius of the point markers. By default 3.</p></li>
<li><p><strong>strokeWidth</strong>: The width of lines and polygon borders. By
default 3.</p></li>
</ul>

    <h2 class="hasAnchor" id="public-fields"><a class="anchor" href="#public-fields"></a>Public fields</h2>

    <p><div class="r6-fields"></p><dl>
<dt><code>lon</code></dt><dd><p>The longitude of the center, in degrees.</p></dd>

<dt><code>lat</code></dt><dd><p>The latitude of the center, in degrees.</p></dd>

<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24.</p></dd>

<dt><code>save_maps</code></dt><dd><p>Should <code>R6Map</code> save the previous maps?. If TRUE, Map
will work in an OOP style. Otherwise it will be a functional programming
style.</p></dd>

<dt><code>previous_map_left</code></dt><dd><p>Container on maps in the left side.</p></dd>

<dt><code>previous_map_right</code></dt><dd><p>Container on maps in the right side.</p></dd>

</dl><p></div></p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>R6Map$new()</code></a></p></li>
<li><p><a href='#method-reset'><code>R6Map$reset()</code></a></p></li>
<li><p><a href='#method-print'><code>R6Map$print()</code></a></p></li>
<li><p><a href='#method-setCenter'><code>R6Map$setCenter()</code></a></p></li>
<li><p><a href='#method-setZoom'><code>R6Map$setZoom()</code></a></p></li>
<li><p><a href='#method-centerObject'><code>R6Map$centerObject()</code></a></p></li>
<li><p><a href='#method-addLayer'><code>R6Map$addLayer()</code></a></p></li>
<li><p><a href='#method-addLayers'><code>R6Map$addLayers()</code></a></p></li>
<li><p><a href='#method-addLegend'><code>R6Map$addLegend()</code></a></p></li>
<li><p><a href='#method-clone'><code>R6Map$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-new"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>new()</code></h3>
<p>Constructor of R6Map.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>lon <span class='op'>=</span> <span class='fl'>0</span>, lat <span class='op'>=</span> <span class='fl'>0</span>, zoom <span class='op'>=</span> <span class='fl'>1</span>, save_maps <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>lon</code></dt><dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>

<dt><code>lat</code></dt><dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>

<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>

<dt><code>save_maps</code></dt><dd><p>Should <code>R6Map</code> save previous maps?.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A new <code>EarthEngineMap</code> object.</p>
<p><hr>
<a id="method-reset"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>reset()</code></h3>
<p>Reset to initial arguments.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span>lon <span class='op'>=</span> <span class='fl'>0</span>, lat <span class='op'>=</span> <span class='fl'>0</span>, zoom <span class='op'>=</span> <span class='fl'>1</span>, save_maps <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>lon</code></dt><dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>

<dt><code>lat</code></dt><dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>

<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>

<dt><code>save_maps</code></dt><dd><p>Should <code>R6Map</code> save previous maps?.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A new <code>EarthEngineMap</code> object.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)
Map # display map

Map$reset() # Reset arguments
Map
}
</pre><p></div></p>

<p><hr>
<a id="method-print"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='print.ee.computedobject.ComputedObject.html'>print()</a></code></h3>
<p>Display a <code>EarthEngineMap</code> object.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>print</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>An <code>EarthEngineMap</code> object.</p>
<p><hr>
<a id="method-setCenter"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setCenter()</code></h3>
<p>Centers the map view at the given coordinates with the given zoom level. If
no zoom level is provided, it uses 10 by default.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>setCenter</span><span class='op'>(</span>lon <span class='op'>=</span> <span class='fl'>0</span>, lat <span class='op'>=</span> <span class='fl'>0</span>, zoom <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>lon</code></dt><dd><p>The longitude of the center, in degrees. By default -76.942478.</p></dd>

<dt><code>lat</code></dt><dd><p>The latitude of the center, in degrees. By default -12.172116.</p></dd>

<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24. By default 18.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>No return value, called to set initial coordinates and zoom.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setCenter(lon = -76, lat = 0, zoom = 5)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</pre><p></div></p>

<p><hr>
<a id="method-setZoom"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setZoom()</code></h3>
<p>Sets the zoom level of the map.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>setZoom</span><span class='op'>(</span>zoom <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24. By default 10.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>No return value, called to set zoom.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
Map$setZoom(zoom = 4)
Map

# Map$lat
# Map$lon
# Map$zoom
}
</pre><p></div></p>

<p><hr>
<a id="method-centerObject"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>centerObject()</code></h3>
<p>Centers the map view on a given object. If no zoom level is provided, it
will be predicted according to the bounds of the Earth Engine object
specified.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>eeObject</span>, zoom <span class='op'>=</span> <span class='cn'>NULL</span>, maxError <span class='op'>=</span> <span class='va'>ee</span><span class='op'>$</span><span class='fu'>ErrorMargin</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>eeObject</code></dt><dd><p>Earth Engine spatial object.</p></dd>

<dt><code>zoom</code></dt><dd><p>The zoom level, from 1 to 24. By default NULL.</p></dd>

<dt><code>maxError</code></dt><dd><p>Max error when input image must be reprojected to an
explicitly requested result projection or geodesic state.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>No return value, called to set zoom.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(rgee)

ee_Initialize()

Map &lt;- R6Map$new()
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")
Map$centerObject(image)
Map
}
</pre><p></div></p>

<p><hr>
<a id="method-addLayer"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addLayer()</code></h3>
<p>Adds a given Earth Engine spatial object to the map as a layer</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  <span class='va'>eeObject</span>,
  visParams <span class='op'>=</span> <span class='cn'>NULL</span>,
  name <span class='op'>=</span> <span class='cn'>NULL</span>,
  shown <span class='op'>=</span> <span class='cn'>TRUE</span>,
  opacity <span class='op'>=</span> <span class='fl'>1</span>,
  position <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>eeObject</code></dt><dd><p>The Earth Engine spatial object to display in the interactive map.</p></dd>

<dt><code>visParams</code></dt><dd><p>List of parameters for visualization. See details.</p></dd>

<dt><code>name</code></dt><dd><p>The name of layers.</p></dd>

<dt><code>shown</code></dt><dd><p>A flag indicating whether layers should be on by default.</p></dd>

<dt><code>opacity</code></dt><dd><p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p></dd>

<dt><code>position</code></dt><dd><p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>An <code>EarthEngineMap</code> object.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(rgee)
ee_Initialize()

# Load an Image
image &lt;- ee$Image("LANDSAT/LC08/C01/T1/LC08_044034_20140318")

# Create
Map &lt;- R6Map$new()
Map$centerObject(image)

# Simple display: Map just will
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 10000, bands = c("B4", "B3", "B2")),
  name = "l8_01"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max = 20000, bands = c("B4", "B3", "B2")),
  name = "l8_02"
)

# Simple display: Map just will (if the position is not specified it will
# be saved on the right side)
Map$reset() # Reset Map to the initial arguments.
Map$centerObject(image)
Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=10000, bands = c("B4", "B3", "B2")),
  name = "l8_left",
  position = "left"
)

Map$addLayer(
  eeObject = image,
  visParams = list(min=0, max=20000, bands = c("B4", "B3", "B2")),
  name = "l8_right"
)

Map$reset()
}
</pre><p></div></p>

<p><hr>
<a id="method-addLayers"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addLayers()</code></h3>
<p>Adds a given ee$ImageCollection to the map as multiple layers.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>addLayers</span><span class='op'>(</span>
  <span class='va'>eeObject</span>,
  visParams <span class='op'>=</span> <span class='cn'>NULL</span>,
  nmax <span class='op'>=</span> <span class='fl'>5</span>,
  name <span class='op'>=</span> <span class='cn'>NULL</span>,
  shown <span class='op'>=</span> <span class='cn'>TRUE</span>,
  position <span class='op'>=</span> <span class='cn'>NULL</span>,
  opacity <span class='op'>=</span> <span class='fl'>1</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>eeObject</code></dt><dd><p>ee$ImageCollection to display in the interactive map.</p></dd>

<dt><code>visParams</code></dt><dd><p>List of parameters for visualization. See details.</p></dd>

<dt><code>nmax</code></dt><dd><p>Numeric. The maximum number of images to display. By default 5.</p></dd>

<dt><code>name</code></dt><dd><p>The name of layers.</p></dd>

<dt><code>shown</code></dt><dd><p>A flag indicating whether layers should be on by default.</p></dd>

<dt><code>position</code></dt><dd><p>Character. Activate panel creation. If "left" the map will be displayed in
the left panel. Otherwise, if it is "right" the map will be displayed in the right panel.
By default NULL (No panel will be created).</p></dd>

<dt><code>opacity</code></dt><dd><p>The layer's opacity is represented as a number between 0 and 1. Defaults to 1.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A <code>EarthEngineMap</code> object.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(sf)
library(rgee)
library(rgeeExtra)

ee_Initialize()

Map &lt;- R6Map$new()

nc &lt;- st_read(system.file("shape/nc.shp", package = "sf")) %&gt;%
  st_transform(4326) %&gt;%
  sf_as_ee()

ee_s2 &lt;- ee$ImageCollection("COPERNICUS/S2")$
  filterDate("2016-01-01", "2016-01-31")$
  filterBounds(nc) %&gt;%
  ee_get(0:2)

Map$centerObject(nc$geometry())
Map$addLayers(eeObject = ee_s2,position = "right")

# digging up the metadata
Map$previous_map_right$rgee$tokens

Map$reset()
}
</pre><p></div></p>

<p><hr>
<a id="method-addLegend"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/pkg/leaflet/man/addLegend.html'>addLegend()</a></code></h3>
<p>Adds a color legend to an EarthEngineMap.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>addLegend</span><span class='op'>(</span>
  <span class='va'>visParams</span>,
  name <span class='op'>=</span> <span class='st'>"Legend"</span>,
  position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"bottomright"</span>, <span class='st'>"topright"</span>, <span class='st'>"bottomleft"</span>, <span class='st'>"topleft"</span><span class='op'>)</span>,
  color_mapping <span class='op'>=</span> <span class='st'>"numeric"</span>,
  opacity <span class='op'>=</span> <span class='fl'>1</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>visParams</code></dt><dd><p>List of parameters for visualization.</p></dd>

<dt><code>name</code></dt><dd><p>The title of the legend.</p></dd>

<dt><code>position</code></dt><dd><p>Character. The position of the legend. By default bottomright.</p></dd>

<dt><code>color_mapping</code></dt><dd><p>Map data values (numeric or factor/character) to
colors according to a given palette. Use "numeric" ("discrete") for continuous
(categorical) data. For display characters use "character" and add to visParams
the element "values" containing the desired character names.</p></dd>

<dt><code>opacity</code></dt><dd><p>The legend's opacity is represented as a number between 0
and 1. Defaults to 1.</p></dd>

<dt><code>...</code></dt><dd><p>Extra legend creator arguments. See <a href='https://rdrr.io/pkg/leaflet/man/addLegend.html'>addLegend</a>.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A <code>EarthEngineMap</code> object.</p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
library(leaflet)
library(rgee)
ee_Initialize()

Map$reset()

# Load MODIS ImageCollection
imgcol &lt;- ee$ImageCollection$Dataset$MODIS_006_MOD13Q1

# Parameters for visualization
labels &lt;- c("good", "marginal", "snow", "cloud")
cols   &lt;- c("#999999", "#00BFC4", "#F8766D", "#C77CFF")
vis_qc &lt;- list(min = 0, max = 3, palette = cols, bands = "SummaryQA", values = labels)

# Create interactive map
m_qc &lt;- Map$addLayer(imgcol$median(), vis_qc, "QC")

# continous palette
Map$addLegend(vis_qc)

# categorical palette
Map$addLegend(vis_qc, name = "Legend1", color_mapping = "discrete")

# character palette
Map$addLegend(vis_qc, name = "Legend2", color_mapping = "character")
}
</pre><p></div></p>

<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$reset`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>
<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Load an Image</span>
<span class='va'>image</span> <span class='op'>&lt;-</span> <span class='va'>ee</span><span class='op'>$</span><span class='fu'>Image</span><span class='op'>(</span><span class='st'>"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class='op'>)</span>

<span class='co'># Create</span>
<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>image</span><span class='op'>)</span>

<span class='co'># Simple display: Map just will</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  eeObject <span class='op'>=</span> <span class='va'>image</span>,
  visParams <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min<span class='op'>=</span><span class='fl'>0</span>, max <span class='op'>=</span> <span class='fl'>10000</span>, bands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span><span class='op'>)</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"l8_01"</span>
<span class='op'>)</span>
<span class='va'>Map</span> <span class='co'># display map</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span><span class='op'>)</span> <span class='co'># Reset arguments</span>
<span class='va'>Map</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$setCenter`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>

<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>setCenter</span><span class='op'>(</span>lon <span class='op'>=</span> <span class='op'>-</span><span class='fl'>76</span>, lat <span class='op'>=</span> <span class='fl'>0</span>, zoom <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>Map</span>

<span class='co'># Map$lat</span>
<span class='co'># Map$lon</span>
<span class='co'># Map$zoom</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$setZoom`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>

<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>setZoom</span><span class='op'>(</span>zoom <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
<span class='va'>Map</span>

<span class='co'># Map$lat</span>
<span class='co'># Map$lon</span>
<span class='co'># Map$zoom</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$centerObject`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>

<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>image</span> <span class='op'>&lt;-</span> <span class='va'>ee</span><span class='op'>$</span><span class='fu'>Image</span><span class='op'>(</span><span class='st'>"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>image</span><span class='op'>)</span>
<span class='va'>Map</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$addLayer`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>
<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Load an Image</span>
<span class='va'>image</span> <span class='op'>&lt;-</span> <span class='va'>ee</span><span class='op'>$</span><span class='fu'>Image</span><span class='op'>(</span><span class='st'>"LANDSAT/LC08/C01/T1/LC08_044034_20140318"</span><span class='op'>)</span>

<span class='co'># Create</span>
<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>image</span><span class='op'>)</span>

<span class='co'># Simple display: Map just will</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  eeObject <span class='op'>=</span> <span class='va'>image</span>,
  visParams <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min<span class='op'>=</span><span class='fl'>0</span>, max <span class='op'>=</span> <span class='fl'>10000</span>, bands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span><span class='op'>)</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"l8_01"</span>
<span class='op'>)</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  eeObject <span class='op'>=</span> <span class='va'>image</span>,
  visParams <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min<span class='op'>=</span><span class='fl'>0</span>, max <span class='op'>=</span> <span class='fl'>20000</span>, bands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span><span class='op'>)</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"l8_02"</span>
<span class='op'>)</span>

<span class='co'># Simple display: Map just will (if the position is not specified it will</span>
<span class='co'># be saved on the right side)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span><span class='op'>)</span> <span class='co'># Reset Map to the initial arguments.</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>image</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  eeObject <span class='op'>=</span> <span class='va'>image</span>,
  visParams <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min<span class='op'>=</span><span class='fl'>0</span>, max<span class='op'>=</span><span class='fl'>10000</span>, bands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span><span class='op'>)</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"l8_left"</span>,
  position <span class='op'>=</span> <span class='st'>"left"</span>
<span class='op'>)</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span>
  eeObject <span class='op'>=</span> <span class='va'>image</span>,
  visParams <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min<span class='op'>=</span><span class='fl'>0</span>, max<span class='op'>=</span><span class='fl'>20000</span>, bands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span><span class='op'>)</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"l8_right"</span>
<span class='op'>)</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$addLayers`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-spatial.github.io/sf/'>sf</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>rgeeExtra</span><span class='op'>)</span>

<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>Map</span> <span class='op'>&lt;-</span> <span class='va'>R6Map</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>nc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"shape/nc.shp"</span>, package <span class='op'>=</span> <span class='st'>"sf"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='sf_as_ee.html'>sf_as_ee</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>ee_s2</span> <span class='op'>&lt;-</span> <span class='va'>ee</span><span class='op'>$</span><span class='fu'>ImageCollection</span><span class='op'>(</span><span class='st'>"COPERNICUS/S2"</span><span class='op'>)</span><span class='op'>$</span>
  <span class='fu'>filterDate</span><span class='op'>(</span><span class='st'>"2016-01-01"</span>, <span class='st'>"2016-01-31"</span><span class='op'>)</span><span class='op'>$</span>
  <span class='fu'>filterBounds</span><span class='op'>(</span><span class='va'>nc</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ee_get</span><span class='op'>(</span><span class='fl'>0</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>centerObject</span><span class='op'>(</span><span class='va'>nc</span><span class='op'>$</span><span class='fu'>geometry</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayers</span><span class='op'>(</span>eeObject <span class='op'>=</span> <span class='va'>ee_s2</span>,position <span class='op'>=</span> <span class='st'>"right"</span><span class='op'>)</span>

<span class='co'># digging up the metadata</span>
<span class='va'>Map</span><span class='op'>$</span><span class='va'>previous_map_right</span><span class='op'>$</span><span class='va'>rgee</span><span class='op'>$</span><span class='va'>tokens</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `R6Map$addLegend`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rstudio.github.io/leaflet/'>leaflet</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-spatial/rgee/'>rgee</a></span><span class='op'>)</span>
<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>Map</span><span class='op'>$</span><span class='fu'>reset</span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Load MODIS ImageCollection</span>
<span class='va'>imgcol</span> <span class='op'>&lt;-</span> <span class='va'>ee</span><span class='op'>$</span><span class='va'>ImageCollection</span><span class='op'>$</span><span class='va'>Dataset</span><span class='op'>$</span><span class='va'>MODIS_006_MOD13Q1</span>

<span class='co'># Parameters for visualization</span>
<span class='va'>labels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"good"</span>, <span class='st'>"marginal"</span>, <span class='st'>"snow"</span>, <span class='st'>"cloud"</span><span class='op'>)</span>
<span class='va'>cols</span>   <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#999999"</span>, <span class='st'>"#00BFC4"</span>, <span class='st'>"#F8766D"</span>, <span class='st'>"#C77CFF"</span><span class='op'>)</span>
<span class='va'>vis_qc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>min <span class='op'>=</span> <span class='fl'>0</span>, max <span class='op'>=</span> <span class='fl'>3</span>, palette <span class='op'>=</span> <span class='va'>cols</span>, bands <span class='op'>=</span> <span class='st'>"SummaryQA"</span>, values <span class='op'>=</span> <span class='va'>labels</span><span class='op'>)</span>

<span class='co'># Create interactive map</span>
<span class='va'>m_qc</span> <span class='op'>&lt;-</span> <span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLayer</span><span class='op'>(</span><span class='va'>imgcol</span><span class='op'>$</span><span class='fu'>median</span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>vis_qc</span>, <span class='st'>"QC"</span><span class='op'>)</span>

<span class='co'># continous palette</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLegend</span><span class='op'>(</span><span class='va'>vis_qc</span><span class='op'>)</span>

<span class='co'># categorical palette</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLegend</span><span class='op'>(</span><span class='va'>vis_qc</span>, name <span class='op'>=</span> <span class='st'>"Legend1"</span>, color_mapping <span class='op'>=</span> <span class='st'>"discrete"</span><span class='op'>)</span>

<span class='co'># character palette</span>
<span class='va'>Map</span><span class='op'>$</span><span class='fu'>addLegend</span><span class='op'>(</span><span class='va'>vis_qc</span>, name <span class='op'>=</span> <span class='st'>"Legend2"</span>, color_mapping <span class='op'>=</span> <span class='st'>"character"</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


